# ═══════════════════════════════════════════════════════════
# CONFIGURATION MODULE IA - DÉTECTION MALADIES TOMATES
# ═══════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────
# BACKEND NODE.JS
# ───────────────────────────────────────────────────────────

# URL du backend Node.js (Express)
# Développement : http://localhost:5000
BACKEND_URL=http://localhost:5000

# Clé API pour authentification avec le backend
# ⚠️ IMPORTANT : Changer cette valeur en production
# Générer une clé sécurisée : openssl rand -hex 32
BACKEND_API_KEY=your-secret-key-changez-moi-en-production

# Activer/désactiver l'envoi automatique au backend
# true = envoi automatique | false = mode local uniquement
SEND_TO_BACKEND=true

# ───────────────────────────────────────────────────────────
# MODÈLE IA (TENSORFLOW/KERAS)
# ───────────────────────────────────────────────────────────

# Chemin vers le modèle entraîné (.h5)
# Si le fichier n'existe pas, le mode DEMO sera activé
MODEL_PATH=models/tomato_disease_model.h5

# Version du modèle (optionnel, pour tracking)
MODEL_VERSION=2.0.0

# ───────────────────────────────────────────────────────────
# CONFIGURATION SERVEUR FLASK
# ───────────────────────────────────────────────────────────

# Adresse d'écoute du serveur
# 0.0.0.0 = toutes les interfaces (production)
# 127.0.0.1 = localhost uniquement (développement)
FLASK_HOST=0.0.0.0

# Port du serveur Flask
# Par défaut : 5001 (5000 est utilisé par le backend)
FLASK_PORT=5001

# Mode debug Flask
# true = mode développement avec auto-reload
# false = mode production (recommandé)
DEBUG=false

# Environnement Flask
# development | production | testing
FLASK_ENV=production

# ───────────────────────────────────────────────────────────
# CONFIGURATION IMAGES
# ───────────────────────────────────────────────────────────

# Taille maximale des images uploadées (en bytes)
# 10 MB par défaut = 10485760 bytes
MAX_IMAGE_SIZE=10485760

# Taille de redimensionnement pour le modèle (pixels)
IMAGE_WIDTH=224
IMAGE_HEIGHT=224

# Format d'image acceptés (séparés par des virgules)
ALLOWED_IMAGE_FORMATS=jpg,jpeg,png

# ───────────────────────────────────────────────────────────
# LOGGING
# ───────────────────────────────────────────────────────────

# Niveau de log : DEBUG | INFO | WARNING | ERROR | CRITICAL
LOG_LEVEL=INFO

# Dossier des logs (optionnel)
LOG_DIR=logs

# Nom du fichier de log
LOG_FILE=ia_module.log

# Rotation des logs (taille max en MB)
LOG_MAX_SIZE=10

# Nombre de fichiers de backup
LOG_BACKUP_COUNT=5

# ───────────────────────────────────────────────────────────
# PERFORMANCE & OPTIMISATION
# ───────────────────────────────────────────────────────────

# Nombre de workers Gunicorn (production)
# Recommandation : (2 x nombre_de_CPU) + 1
GUNICORN_WORKERS=4

# Timeout requêtes (secondes)
REQUEST_TIMEOUT=300

# Limite mémoire TensorFlow (MB) - optionnel
# Laisser vide pour utilisation automatique
TF_MEMORY_LIMIT=

# Utiliser le GPU si disponible (true/false)
USE_GPU=false

# ───────────────────────────────────────────────────────────
# SÉCURITÉ
# ───────────────────────────────────────────────────────────

# Activer CORS (Cross-Origin Resource Sharing)
CORS_ENABLED=true

# Origines autorisées pour CORS (séparées par des virgules)
# * = toutes les origines (développement uniquement)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# Rate limiting (requêtes par minute)
RATE_LIMIT_PER_MINUTE=60

# ───────────────────────────────────────────────────────────
# MONITORING & ANALYTICS (OPTIONNEL)
# ───────────────────────────────────────────────────────────

# Activer les métriques Prometheus
ENABLE_METRICS=false

# Port pour les métriques (si activé)
METRICS_PORT=9090

# Sentry DSN pour tracking des erreurs (optionnel)
SENTRY_DSN=

# ───────────────────────────────────────────────────────────
# DATASET & ENTRAÎNEMENT
# ───────────────────────────────────────────────────────────

# Chemin vers le dataset pour entraînement
DATASET_PATH=./data/tomato

# Nombre d'epochs pour l'entraînement
EPOCHS=50

# Taille des batches
BATCH_SIZE=32

# Learning rate initial
LEARNING_RATE=0.001

# ───────────────────────────────────────────────────────────
# AUTRES
# ───────────────────────────────────────────────────────────

# Timezone
TZ=Africa/Tunis

# Langue par défaut
DEFAULT_LANGUAGE=fr

# Mode maintenance (true pour désactiver temporairement l'API)
MAINTENANCE_MODE=false